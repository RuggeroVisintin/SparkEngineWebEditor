set -e

npm run lint || {
    echo "Linting failed with errors" >&2

    if [ "$(which "read")" == "" ]; then
        echo "Cannot read input, please run git push again from another shell">&2
        exit 1
    fi

    read -p "Continue? (Y/N): " confirm

    if [[ $confirm == [yY] || $confirm == [yY][eE][sS] ]]; then
        echo "Confirmed, continuing with push..."
    fi
}

exit 1;